<div ng-controller="DiscoveryViewManagementController" class="discovery-view-management">
  <h1>Discovery View Management</h1>

  <div class="panel panel-default discovery-view-container">
    <div class="panel-heading clearfix">
      <button class="btn btn-success pull-right" ng-click="startCreateDiscoveryView()">New</button>
    </div>

    <div class="panel-body">
      <table ng-table="tableParams" class="table table-hover discovery-view-table">
        <tbody>
          <tr ng-repeat="discoveryView in $data | orderBy:'name'">
            <td data-title="'Name'" sortable="'name'">
              <a href="discovery-context/{{discoveryView.slug}}">{{discoveryView.name}}</a>
            </td>
            <td data-title="'Solr Source'" sortable="'SolrSource'">
              {{discoveryView.source.name}}
            </td>
            <td data-title="'Actions'">
              <span class="glyphicon glyphicon-duplicate clickable" ng-click="startCloneDiscoveryView(discoveryView)"></span>
              <span class="glyphicon glyphicon-pencil clickable" ng-click="startUpdateDiscoveryView(discoveryView)"></span>
              <span class="glyphicon glyphicon-trash clickable" ng-click="confirmDeleteDiscoveryView(discoveryView)"></span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <modal
    modal-id="createDiscoveryViewModal"
    modal-view="views/modals/createDiscoveryViewModal.html"
    modal-header-class="modal-header-primary"
    modal-fullscreen="true"
    wvr-modal-backdrop="static">
  </modal>

  <modal
    modal-id="confirmDeleteDiscoveryViewModal"
    modal-view="views/modals/confirmDeleteDiscoveryViewModal.html"
    modal-header-class="modal-header-danger"
    wvr-modal-backdrop="static">
  </modal>

  <modal
    modal-id="updateDiscoveryViewModal"
    modal-view="views/modals/updateDiscoveryViewModal.html"
    modal-header-class="modal-header-warning"
    modal-fullscreen="true"
    wvr-modal-backdrop="static">
  </modal>

  <modal
    modal-id="cloneDiscoveryViewModal"
    modal-view="views/modals/cloneDiscoveryViewModal.html"
    modal-header-class="modal-header-warning"
    modal-fullscreen="true"
    wvr-modal-backdrop="static">
  </modal>

</div>
